{% extends "house.html" %} {% block title %}Change{% endblock %}
{% block log %}{{code[0]|safe}}{% endblock %}
{% block pfp %}{{code[1]|safe}}{% endblock %}


{% block cont %}
<div id="oh_my_gah">
<img src="https://www.murrayglass.com/wp-content/uploads/2020/10/avatar-2048x2048.jpeg">
<form method="POST" enctype="multipart/form-data" ID="forum">
  <div class="form-group">
    <label for="email">Email Address</label>
    <input
      value="{{user.emails}}"
      type="email"
      class="form-control"
      id="email"
      name="email"
      placeholder="Enter email"
    />
  </div>
  <div class="form-group">
    <label for="firstName">First Name</label>
    <input
      value="{{user.name}}"
      type="text"
      class="form-control"
      id="firstName"
      name="firstName"
      placeholder="Enter first name"
    />
  </div>
  <div class="form-group">
    <label for="lastName">Last Name</label>
    <input
      value="{{user.lastname}}"
      type="text"
      class="form-control"
      id="lastName"
      name="lastName"
      placeholder="Enter last name"
    />
  </div>

  <div class="form-group" id="pasi">
    <label for="password1">Password</label>
    <input
      value="{{user.password}}"
      type="password"
      class="form-control"
      id="password1"
      name="password1"
      placeholder="Enter password"
    />
<button type="button" id="show-password">Show</button>
<script>
  const passwordInput = document.getElementById('password1');
  const showPasswordButton = document.getElementById('show-password');

  showPasswordButton.addEventListener('click', function(event) {
    event.preventDefault();
    passwordInput.type = passwordInput.type === 'password' ? 'text' : 'password';
  });
</script>
  </div>

  <div class="form-group">
    <label for="picture">Take a picture of your face:</label>
        <input type="file" name="image" id="image" onchange="previewImage(event)">
        <img id="preview">
    <script>
        function previewImage(event) {
            const reader = new FileReader();
            reader.onload = function() {
                const preview = document.getElementById('preview');
                preview.src = reader.result;
            }
            reader.readAsDataURL(event.target.files[0]);}
    </script>
    <style>
        #preview{
            width: 50px;
        }
    </style>
  </div>

  <div class="form-group">
    <label for="role">Role (I suppose?)</label>
      <select id="role" name="role">
        {% for role in ["admin", "Editor", "Administrador de inventario", "Supervisor"] %}
          {% if role == user.role %}
            <option value="{{ role }}" selected>{{ role }}</option>
          {% else %}
            <option value="{{ role }}">{{ role }}</option>
          {% endif %}
        {% endfor %}
      </select>
  </div>
  <br />
  <button type="submit" value="Upload" class="btn btn-primary">Submit</button>
</form>
</div>

{% endblock %}


