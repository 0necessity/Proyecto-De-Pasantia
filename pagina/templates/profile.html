{% extends "house.html" %} {% block title %}Change{% endblock %}
{% block log %}{{code[0]|safe}}{% endblock %}
{% block ini %}{{code[-1]|safe}}{% endblock %}
{% block reg %}{{code[-2]|safe}}{% endblock %}
{% block pfp %}{{code[1]|safe}}{% endblock %}


{% block cont %}
<div id="oh_my_gah">
{{code[2]|safe}}
<form method="POST" enctype="multipart/form-data" ID="ffa">

  <div class="form-group">
    <label for="email">Correo electrónico</label>
    <input
      value="{{user[0][1]}}"
      type="email"
      class="form-control"
      id="email"
      name="email"
      placeholder="Introduzca su correo"
    />
  </div>
  <div class="form-group">
    <label for="firstName">Nombre</label>
    <input
      value="{{user[0][0]}}"
      type="text"
      class="form-control"
      id="firstName"
      name="firstName"
      placeholder="Introduzca su nombre"
    />
  </div>
  <div class="form-group">
    <label for="lastName">Apellido</label>
    <input
      value="{{user[0][3]}}"
      type="text"
      class="form-control"
      id="lastName"
      name="lastName"
      placeholder="Introduzca su apellido"
    />
  </div>
  <div class="form-group" id="pasi">
    <label for="password1">Contraseña</label>
    <input
      value="{{user[0][4]}}"
      type="password"
      class="form-control"
      id="password1"
      name="password1"
      placeholder="Introduzca su contraseña"
    />
<button type="button" id="show-password">Mostrar</button>
<script>
  const passwordInput = document.getElementById('password1');
  const showPasswordButton = document.getElementById('show-password');

  showPasswordButton.addEventListener('click', function(event) {
    event.preventDefault();
    passwordInput.type = passwordInput.type === 'password' ? 'text' : 'password';
  });
</script>
  </div>

  <div class="form-group">
    <label for="picture">Suba su foto de perfil:</label>
        <input type="file" name="image" id="image" onchange="previewImage(event)">
        <img id="preview">
    <script>
        function previewImage(event) {
            const reader = new FileReader();
            reader.onload = function() {
                const preview = document.getElementById('preview');
                preview.src = reader.result;
            }
            reader.readAsDataURL(event.target.files[0]);}
    </script>
    <style>
        #preview{
            width: 50px;
        }
        #bou {
          display: flex;
          justify-content: space-between;
        }
    </style>
  </div>

  <div class="form-group">
    <label for="role">Role (I suppose?)</label>
      <select id="role" name="role">
        {% for role in ["admin", "Editor", "Administrador de inventario", "Supervisor"] %}
          {% if role == user[0][2] %}
            <option value="{{ role }}" selected>{{ role }}</option>
          {% else %}
            <option value="{{ role }}">{{ role }}</option>
          {% endif %}
        {% endfor %}
      </select>
  </div>
  <br />
  <div id="bou">
  <button type="submit" name="edit" value="Upload" class="btn btn-primary">Continuar</button>
  <button type="submit" name="delete" value="Upload" class="btn btn-primary">ELIMINAR PERFIL</button>
  </div>
</form>
</div>

{% endblock %}


